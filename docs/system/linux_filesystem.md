文件系统是对**硬盘**管理的一种组织方式，硬盘分区之后，需要以一种文件系统进行管理描述

Linux支持的文件系统很多，包括ext、ext2

Linux的目录结构
```txt
/
├── bin -> usr/bin
├── boot
├── data
├── dev
├── etc
├── home
├── lib -> usr/lib
├── lib64 -> usr/lib64
├── lost+found
├── media
├── mnt
├── opt
├── proc
├── root
├── run
├── sbin -> usr/sbin
├── srv
├── sys
├── tmp
├── usr
└── var
```

![39ee85fa2240898e128a3a21793cddde.png](../_assets/img/system/39ee85fa2240898e128a3a21793cddde.png)

目录说明

<table><thead><tr><th>目录</th><th>用途</th><th>常见文件/内容</th></tr></thead><tbody><tr><td>/ (根目录)</td><td>文件系统的顶层目录,所有其他目录和文件都位于此目录下。</td><td>所有目录的起点,如 /home、/bin、/etc 等。</td></tr><tr><td>/bin</td><td>存放系统基本命令,供所有用户使用,包含系统运行所需的二进制文件。</td><td>ls、cp、mv、cat 等基本命令</td></tr><tr><td>/sbin</td><td>存放系统管理员使用的命令,通常与系统管理相关。</td><td>fdisk、ifconfig、shutdown 等</td></tr><tr><td>/etc</td><td>存放系统配置文件,定义了系统服务和应用程序的配置。</td><td>passwd、hosts、network、fstab 等</td></tr><tr><td>/dev</td><td>存放设备文件,代表系统中的硬件设备,如硬盘、光驱、USB 等。</td><td>/dev/sda、/dev/tty、/dev/null</td></tr><tr><td>/proc</td><td>存放系统运行时信息的虚拟文件系统,提供实时的系统状态和进程信息。</td><td>/proc/cpuinfo、/proc/meminfo、/proc/uptime</td></tr><tr><td>/var</td><td>存放经常变化的文件,如日志文件、邮件、缓存等。</td><td>/var/log (日志)、/var/mail (邮件)</td></tr><tr><td>/tmp</td><td>存放临时文件,所有用户都可以在此目录下创建文件,系统会定期清理。</td><td>临时文件、缓存文件</td></tr><tr><td>/usr</td><td> `Unix System Resource` 的缩写，存放用户程序和共享库,包含大多数的应用程序和系统文件。</td><td>/usr/bin (命令)、/usr/lib (库文件)</td></tr><tr><td>/home</td><td>存放普通用户的主目录,每个用户都有一个以用户名命名的子目录,用于存放个人文件和配置。</td><td>/home/alice、/home/bob (用户文件)</td></tr><tr><td>/root</td><td>系统管理员 (root 用户) 的主目录。</td><td>/root/.bashrc 等 root 用户的配置文件</td></tr><tr><td>/opt</td><td>存放由用户手动安装的额外软件包,通常不通过系统的包管理器安装的软件。</td><td>第三方应用软件,如 Google Chrome、Adobe 等</td></tr><tr><td>/boot</td><td>存放启动系统所需的核心文件,如内核和引导加载器配置。</td><td>vmlinuz (内核)、grub.conf (引导配置文件)</td></tr><tr><td>/lib</td><td>存放系统运行时必需的共享库文件,供系统程序调用。</td><td>libc.so、libm.so (共享库)</td></tr><tr><td>/media</td><td>用于自动挂载外部存储设备,如 USB、光盘、DVD 等。</td><td>/media/usb、/media/cdrom (外部设备挂载点)</td></tr><tr><td>/mnt</td><td>用于临时挂载文件系统,通常用于管理员手动挂载外部存储设备或网络文件系统。</td><td>/mnt/data、/mnt/backup (临时挂载)</td></tr><tr><td>/run</td><td>存放系统运行时的临时文件,如进程 ID 文件 (PID 文件) 和会话信息。</td><td>/run/sshd.pid (SSH 进程 PID)</td></tr><tr><td>/srv</td><td>存放由特定服务提供的数据,如网站内容、FTP 文件等。</td><td>/srv/www (网站文件)、/sftp/N (FTP 数据)</td></tr></tbody></table>

${toc}

无论是用户，还是操作系统的**程序、数据**都是已*文件**的形式出现的。

Linux3大哲学：
1. 一切皆文件
2. 管道思想
3. 权限体系

文件的定义： 
> **为一组带标识的、在逻辑上有完整意义的信息项的序列**

其中，**标识**指 文件名，**信息项**指文件内容。

文件的性质：
1. 文件有大小
2. 文件的内容具有逻辑意义，由创建者进行解释
3. 是一种抽象机制，提供了用户便于读写的方式

## 0x01.用户视角下的文件系统
1. 文件结构：
2. 文件命名：
3. 文件保护：
4. 文件操作：建立、读写、修改、复制、删除

## 0x02.操作系统下的文件系统
1. 文件/目录实现：
2. 存储空间管理：
3. 文件存储位置：
4. 磁盘运行方式：
5. 存取速度：
6. 磁盘利用率：

## 0x03.硬盘的结构

![ca3c765c16c1215f0a0166780d31310d.png](../_assets/img/system/ca3c765c16c1215f0a0166780d31310d.png)

1. 盘面：其中的一个盘
2. 扇面：盘面中的一个扇形区域，包含多个磁道弧线，一般能容纳32b-4kb
3. 柱面：也就是磁道，盘面上的同心圆，所有盘面中处于同一磁道号上的所有磁道组成一个柱面
4. 读写磁头：读、 写信息的 头
5. 寻道：将磁头移动到某个磁道上
6. 盘面代号：
7. 磁头号：
8. 柱面号：
9. 磁盘物理地址：柱面号（磁道号）、扇区号、磁头号（盘面号）

## 0xFD.关键概念
1. 文件：具有文件名，保护逻辑内容的一个序列块
2. 文件指针：读写文件时，标记读取、写入的位置
3. 文件管理：
4. 文件系统：统一管理信息资源的**软件**
5. 文件结构：
6. 逻辑结构：用户看到的文件的组织结构
7. 物理结构：文件在实际的存储空间存储时的结构
8. 文件存取方式：将用户对文件的逻辑存取要求转换为物理存储请求
9. 顺序存取：按从前到后的次序依次访问文件的各个信息项
10. 随机存取：又称直接存取，即允许用户按任意次序直接存取文件中的任意一个记录
11. 文件控制块：
12. 目录项：
13. 文件目录：
14. 目录文件：
15. 目录检索：
16. 磁盘空间管理：
17. 文件/目录操作：
18. 文件共享：
19. 文件保护：
20. 文件存储介质：
21. 外存储设备：容量大、非易失、速度较慢、成本较低特点，包含驱动部分和存储介质
22. 存储介质：通常称卷
23. 驱动器：帮助计算机实现存储介质的读写
24. 磁带：顺序存取设备
25. 磁盘：通常指硬盘，硬盘是一种典型的随机存储设备
26. 盘面：
27. 柱面（磁道）：
28. 扇区：
29. EPROM：

## 0xFF.参考

参考: [https://tldp.org/LDP/sag/html/index.html](https://tldp.org/LDP/sag/html/index.html)